(this["webpackJsonpmovie-challenge"]=this["webpackJsonpmovie-challenge"]||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(10),o=a.n(i),r=a(44),s=a(17),l=a(67),d=a(157),j=a(147),b=a(150),u=a(152),h=a(155),m=a(154),O=a(153),x=a(156),g=a(6),v=Object(j.a)({root:{maxWidth:345},media:{height:140,backgroundSize:"contain",backgroundColor:"black"}});function f(e){var t=e.src,a=e.title,n=e.year,c=e.imdbID,i=e.buttonClick,o=e.buttonTitle,r=e.nominated,s=v();return Object(g.jsxs)(b.a,{className:s.root,children:[Object(g.jsxs)(u.a,{children:[Object(g.jsx)(O.a,{className:s.media,image:t,title:a}),Object(g.jsxs)(m.a,{children:[Object(g.jsx)(l.a,{gutterBottom:!0,variant:"h5",component:"h2",children:a}),Object(g.jsx)(l.a,{variant:"body2",color:"textSecondary",component:"p",children:n})]})]}),Object(g.jsx)(h.a,{children:Object(g.jsx)(x.a,{size:"small",color:"primary",onClick:function(){return i(c)},disabled:r,children:o})})]})}var p=a(63),S=a.n(p),C=a(163),y=Object(j.a)({input:{backgroundColor:"white"},button:{height:"100%"}});var D=function(e){var t=e.setMovies,a=e.setSearch,c=Object(n.useState)(""),i=Object(s.a)(c,2),o=i[0],r=i[1],l="?apikey=".concat("3a0f85f5","&type=movie"),j=y();return Object(g.jsx)("form",{noValidate:!0,autoComplete:"off",id:"searchForm",onSubmit:function(e){e.preventDefault();var n=e.target.title.value;S.a.get("".concat("https://www.omdbapi.com").concat(l,"&s=").concat(n)).then((function(n){var c;"False"===n.data.Response&&(a('No movies found that contain "'.concat(e.target.title.value,'"')),t([])),(null===(c=n.data)||void 0===c?void 0:c.Search)&&(a('Results for "'.concat(e.target.title.value,'"')),t(n.data.Search),console.log(n.data.Search)),e.target.reset(),r("")})).catch((function(e){console.log(e)}))},children:Object(g.jsxs)(d.a,{container:!0,children:[Object(g.jsx)(d.a,{item:!0,xs:10,children:Object(g.jsx)(C.a,{fullWidth:!0,label:"Search",name:"title",variant:"outlined",onChange:function(e){return r(e.target.value)},placeholder:"Please use at least 3 letters/numbers",className:j.input})}),Object(g.jsx)(d.a,{item:!0,xs:2,children:Object(g.jsx)(x.a,{fullWidth:!0,type:"submit",variant:"contained",form:"searchForm",color:"primary",disabled:o.length<3,size:"large",className:j.button,children:"Search"})})]})})},I=a(166),k=a(162),N=a(160),T=a(161),w=a(159);function F(e){var t=e.title,a=e.text,n=e.open,c=e.toggle;return Object(g.jsx)("div",{children:Object(g.jsxs)(I.a,{open:n,onClose:c,"aria-labelledby":t,"aria-describedby":a,children:[Object(g.jsx)(w.a,{id:"alert-dialog-title",children:t}),Object(g.jsx)(N.a,{children:Object(g.jsx)(T.a,{id:"alert-dialog-description",children:a})}),Object(g.jsx)(k.a,{children:Object(g.jsx)(x.a,{onClick:c,color:"primary",children:"Close"})})]})})}var B=a(65),P=a(167),M=a(164);function J(e){return Object(g.jsx)(M.a,Object(B.a)({elevation:6,variant:"filled"},e))}var L=Object(j.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function R(e){var t=e.open,a=e.toastClose,n=e.type,c=e.duration,i=e.text,o=L();return Object(g.jsx)("div",{className:o.root,children:Object(g.jsx)(P.a,{open:t,autoHideDuration:c,onClose:a,children:Object(g.jsx)(J,{onClose:a,severity:n,children:i})})})}var z=Object(j.a)({root:{padding:"10px 5vw 10px 5vw"},container:{border:"10px solid white",borderRadius:"20px",backgroundColor:"#DCDCDC"}});function W(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(JSON.parse(localStorage.getItem("nominatedList"))||[]),o=Object(s.a)(i,2),j=o[0],b=o[1],u=Object(n.useState)("Please search for movies"),h=Object(s.a)(u,2),m=h[0],O=h[1],x=Object(n.useState)(!1),v=Object(s.a)(x,2),p=v[0],S=v[1],C=Object(n.useState)(!1),y=Object(s.a)(C,2),I=y[0],k=y[1],N=Object(n.useState)(""),T=Object(s.a)(N,2),w=T[0],B=T[1],P=Object(n.useState)(""),M=Object(s.a)(P,2),J=M[0],L=M[1];Object(n.useEffect)((function(){localStorage.setItem("nominatedList",JSON.stringify(j))}),[j]);var W=function(e){if(j.length>=4&&E(),j.length<5){var t=a.find((function(t){return t.imdbID===e}));k(!0),L("success"),B('Movie "'.concat(t.Title,'" added')),b([].concat(Object(r.a)(j),[t]))}},Y=function(e){var t=j.findIndex((function(t){return t.imdbID===e})),a=j[t].Title,n=Object(r.a)(j);n.splice(t,1),b(n),k(!0),L("error"),B('Movie "'.concat(a,'" removed'))},E=function(){S(!p)},H=z();return Object(g.jsxs)("div",{className:H.root,children:[Object(g.jsx)(l.a,{variant:"h3",align:"center",gutterBottom:!0,children:"The Shoppies"}),Object(g.jsxs)(d.a,{container:!0,spacing:3,children:[Object(g.jsx)(d.a,{item:!0,xs:12,className:H.container,children:Object(g.jsx)(D,{setMovies:c,setSearch:O})}),Object(g.jsxs)(d.a,{item:!0,xs:6,lg:8,align:"center",className:H.container,children:[Object(g.jsx)(l.a,{variant:"h5",gutterBottom:!0,children:m}),Object(g.jsx)(d.a,{container:!0,spacing:1,children:a.map((function(e){return Object(g.jsx)(d.a,{item:!0,xs:12,md:6,lg:4,children:Object(g.jsx)(f,{title:e.Title,year:e.Year,src:e.Poster,imdbID:e.imdbID,buttonClick:W,buttonTitle:"Nominate",nominated:(t=e.imdbID,j.some((function(e){return e.imdbID===t})))},e.imdbID+"search")});var t}))})]}),Object(g.jsxs)(d.a,{item:!0,xs:6,lg:4,align:"center",className:H.container,children:[Object(g.jsx)(l.a,{variant:"h5",gutterBottom:!0,children:"Nominated"}),Object(g.jsx)(d.a,{container:!0,spacing:1,children:j.map((function(e){return Object(g.jsx)(d.a,{item:!0,xs:12,children:Object(g.jsx)(f,{title:e.Title,year:e.Year,src:e.Poster,imdbID:e.imdbID,buttonClick:Y,buttonTitle:"Remove"},e.imdbID+"nominated")})}))})]})]}),Object(g.jsx)(F,{open:p,toggle:E,title:"Thank you for nominating",text:"You reached the max of 5 movie nominations. To add another movie you will need to remove one"}),Object(g.jsx)(R,{open:I,toastClose:function(e,t){"clickaway"!==t&&k(!1)},type:J,duration:2e3,text:w})]})}var Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,168)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),i(e),o(e)}))};o.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(W,{})}),document.getElementById("root")),Y()}},[[103,1,2]]]);
//# sourceMappingURL=main.fd207a13.chunk.js.map